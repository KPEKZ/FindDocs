


<div *ngIf="documents$ | async as docs" class="mat-elevation-z8">
    <table class="table" mat-table [dataSource]="docs" matSort>

        <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->

        <!-- Position Column -->
        <!-- <ng-container matColumnDef="Position">
        <th mat-header-cell *matHeaderCellDef> № </th>
        <td mat-cell *matCellDef="let element"> {{element.}} </td>
        </ng-container> -->

        <!-- Name Column -->
        <ng-container matColumnDef="Name">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header> Название </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <!-- Type Column -->
        <ng-container matColumnDef="Type">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header> Тип </th>
        <td mat-cell *matCellDef="let element"> {{element.documentType.name}} </td>
        </ng-container>

        <!-- Number Column -->
        <ng-container matColumnDef="Number">
        <th mat-header-cell *matHeaderCellDef  mat-sort-header> Номер </th>
        <td mat-cell *matCellDef="let element"> {{element.number}} </td>
        </ng-container>

        <!-- Release date Column -->
        <ng-container matColumnDef="ReleaseDate">
            <th mat-header-cell *matHeaderCellDef  mat-sort-header> Дата выхода </th>
            <td mat-cell *matCellDef="let element"> {{element.releaseDate | date: 'd.MM.YYY'}} </td>
        </ng-container>

        <!-- Take effect date Column -->
        <ng-container matColumnDef="TakeEffectDate">
            <th mat-header-cell *matHeaderCellDef  mat-sort-header> Дата принятия </th>
            <td mat-cell *matCellDef="let element"> {{element.takeEffectDate | date: 'd.MM.YYY'}} </td>
        </ng-container>

        <!-- keywords Column -->
        <ng-container matColumnDef="Keywords">
            <th mat-header-cell *matHeaderCellDef> Ключевые слова </th>
            <td mat-cell *matCellDef="let elementArr">
                <ng-container *ngFor="let el of elementArr.keywords; let isLast = last">
                    {{el.name}}
                    <span *ngIf="!isLast">,</span>
                </ng-container>
            </td>
        </ng-container>

        <!-- links Column -->
        <ng-container matColumnDef="Links">
            <th mat-header-cell *matHeaderCellDef> Ссылки </th>
            <td mat-cell *matCellDef="let elementArr">
                <ng-container *ngFor="let el of elementArr.links; let isLast = last">
                    {{el.url}}
                    <span *ngIf="!isLast">,</span>
                </ng-container>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" [routerLink]="['/docs/', row.id]"></tr>
    </table>
    <mat-paginator [length]="docs.length" [pageSize]="30"></mat-paginator>
</div>
